{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Employee management\\\\EmployeeManagement\\\\screens\\\\LoginScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as firebase from 'firebase';\nimport ExpoStatusBar from 'expo-status-bar/build/ExpoStatusBar';\nimport * as Facebook from 'expo-facebook';\n\nvar LoginScreen = function LoginScreen(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentUserId = _useState6[0],\n      setCurrentUserId = _useState6[1];\n\n  useEffect(function () {\n    Facebook.initializeAsync({\n      appId: '1328577777474619',\n      appName: 'EmployeeManagment'\n    });\n    firebase.auth().onAuthStateChanged(function (user) {\n      console.log(\"on change User\", user);\n\n      if (user != null) {\n        props.navigation.navigate('ManagementEmployeeScreen');\n      }\n    });\n  }, []);\n\n  var SignupUser = function SignupUser(email, password) {\n    return _regeneratorRuntime.async(function SignupUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password).then(function (user) {\n              console.log(\"SignupUser\", user);\n              setCurrentUserId(user.uid);\n            }).catch(function (error) {\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              throw error;\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var signupHandler = function signupHandler() {\n    return _regeneratorRuntime.async(function signupHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(SignupUser(email, password));\n\n          case 3:\n            _context2.next = 9;\n            break;\n\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            signoutUser();\n            return _context2.abrupt(\"return\", Alert.alert('שגיאת התחברות', _context2.t0.message, [{\n              text: \"אישור\"\n            }], {\n              cancelable: true\n            }));\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var SigninUser = function SigninUser(email, password) {\n    return _regeneratorRuntime.async(function SigninUser$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password).then(function (res) {\n              console.log(\"Signin succuss\");\n              var userUid = res.user.uid;\n              setCurrentUserId(userUid);\n            }).catch(function (error) {\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              throw error;\n            }));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var loginHandler = function loginHandler() {\n    return _regeneratorRuntime.async(function loginHandler$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(SigninUser(email, password));\n\n          case 3:\n            _context4.next = 9;\n            break;\n\n          case 5:\n            _context4.prev = 5;\n            _context4.t0 = _context4[\"catch\"](0);\n            signoutUser();\n            return _context4.abrupt(\"return\", Alert.alert('שגיאת התחברות', _context4.t0.message, [{\n              text: \"אישור\"\n            }], {\n              cancelable: true\n            }));\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var facebookLoginHandler = function facebookLoginHandler() {\n    var _await$Facebook$logIn, type, token, credential;\n\n    return _regeneratorRuntime.async(function facebookLoginHandler$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync({\n              permission: \"public_profile\"\n            }));\n\n          case 2:\n            _await$Facebook$logIn = _context5.sent;\n            type = _await$Facebook$logIn.type;\n            token = _await$Facebook$logIn.token;\n\n            if (!(type == 'succuss')) {\n              _context5.next = 9;\n              break;\n            }\n\n            credential = new firebase.auth.FacebookAuthProvider().credential(token);\n            _context5.next = 9;\n            return _regeneratorRuntime.awrap(firebase.auth().signInWithCredential(credential).catch(function (error) {\n              console.log(\"error\", error);\n            }));\n\n          case 9:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var signoutUser = function signoutUser() {\n    return _regeneratorRuntime.async(function signoutUser$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            firebase.auth().signOut().then(function () {\n              console.log(\"signout succuss\");\n            }).catch(function (error) {\n              console.log(\"signout fail\");\n            });\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Pressable, {\n    style: styles.root,\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\\u05D5\\u05EA\\\\\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\"), React.createElement(TextInput, {\n    placeholder: \"\\u05D3\\u05D5\\u05D0\\\"\\u05DC\",\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    keyboardType: \"email-address\",\n    style: styles.inputText,\n    autoCapitalize: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    secureTextEntry: true,\n    style: styles.inputText,\n    autoCapitalize: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\\u05D5\\u05EA\",\n    onPress: loginHandler,\n    name: \"loginBtn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\",\n    onPress: signupHandler,\n    name: \"signupBtn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"\\u05DB\\u05E0\\u05D9\\u05E1\\u05D4 \\u05E2\\u05DD \\u05E4\\u05D9\\u05D9\\u05E1\\u05D1\\u05D5\\u05E7\",\n    onPress: facebookLoginHandler,\n    name: \"facebookLoginBtn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputText: {\n    width: '50%',\n    height: 30,\n    backgroundColor: 'lightgrey',\n    borderRadius: 20,\n    margin: 12,\n    textAlign: 'center'\n  }\n});\nexport default LoginScreen;","map":{"version":3,"sources":["C:/Users/User/Documents/Employee management/EmployeeManagement/screens/LoginScreen.js"],"names":["React","useState","useEffect","firebase","ExpoStatusBar","Facebook","LoginScreen","props","email","setEmail","password","setPassword","currentUserId","setCurrentUserId","initializeAsync","appId","appName","auth","onAuthStateChanged","user","console","log","navigation","navigate","SignupUser","createUserWithEmailAndPassword","then","uid","catch","error","errorCode","code","errorMessage","message","signupHandler","signoutUser","Alert","alert","text","cancelable","SigninUser","signInWithEmailAndPassword","res","userUid","loginHandler","facebookLoginHandler","logInWithReadPermissionsAsync","permission","type","token","credential","FacebookAuthProvider","signInWithCredential","signOut","styles","root","Keyboard","dismiss","inputText","StyleSheet","create","flex","alignItems","justifyContent","width","height","backgroundColor","borderRadius","margin","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, TextInput, Button, Pressable, Keyboard, Alert } from 'react-native';\r\nimport * as firebase from 'firebase';\r\nimport ExpoStatusBar from 'expo-status-bar/build/ExpoStatusBar';\r\nimport * as Facebook from 'expo-facebook';\r\n// import { Facebook } from \"expo\";\r\n\r\nconst LoginScreen = props => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [currentUserId, setCurrentUserId] = useState('');\r\n\r\n    useEffect(() => {\r\n        Facebook.initializeAsync({ appId: '1328577777474619', appName: 'EmployeeManagment' });\r\n\r\n        firebase.auth().onAuthStateChanged((user => {\r\n            console.log(\"on change User\", user);\r\n            if (user != null) {\r\n                props.navigation.navigate('ManagementEmployeeScreen');\r\n            }\r\n        }));\r\n    }, [])\r\n\r\n    const SignupUser = async (email, password) => {\r\n        await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then((user) => {\r\n                console.log(\"SignupUser\", user);\r\n                setCurrentUserId(user.uid);\r\n            })\r\n            .catch((error) => {\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                throw error;\r\n            });\r\n    }\r\n\r\n    const signupHandler = async () => {\r\n        try {\r\n\r\n            //Signup\r\n            await SignupUser(email, password);\r\n        }\r\n        catch (error) {\r\n            signoutUser();\r\n            return Alert.alert(\r\n                'שגיאת התחברות',\r\n                error.message,\r\n                [\r\n                    { text: \"אישור\" }\r\n                ],\r\n                { cancelable: true }\r\n            );\r\n        }\r\n    }\r\n\r\n    const SigninUser = async (email, password) => {\r\n        await firebase.auth().signInWithEmailAndPassword(email, password)\r\n            .then((res) => {\r\n                console.log(\"Signin succuss\");\r\n                let userUid = res.user.uid;\r\n                setCurrentUserId(userUid);\r\n\r\n            })\r\n            .catch((error) => {\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                // setError(errorMessage);\r\n                throw error;\r\n            });\r\n    }\r\n\r\n    const loginHandler = async () => {\r\n        try {\r\n            await SigninUser(email, password);\r\n\r\n        } catch (error) {\r\n            signoutUser();\r\n            return Alert.alert(\r\n                'שגיאת התחברות',\r\n                error.message,\r\n                [\r\n                    { text: \"אישור\" }\r\n                ],\r\n                { cancelable: true }\r\n            );\r\n        }\r\n    }\r\n\r\n    const facebookLoginHandler = async () => {\r\n\r\n        const { type, token } = await\r\n            Facebook.logInWithReadPermissionsAsync(\r\n                {\r\n                    permission: \"public_profile\"\r\n                }\r\n            );\r\n\r\n        if (type == 'succuss') {\r\n            const credential = new firebase.auth.FacebookAuthProvider().credential(token);\r\n\r\n            await firebase.auth().signInWithCredential(credential).catch((error) => {\r\n                console.log(\"error\", error);\r\n            })\r\n            // firebase\r\n            //     .auth()\r\n            //     .signInWithPopup(provider)\r\n            //     .then((result) => {\r\n            //         var credential = result.credential;\r\n\r\n            //         // The signed-in user info.\r\n            //         var user = result.user;\r\n\r\n            //         // This gives you a Facebook Access Token. You can use it to access the Facebook API.\r\n            //         var accessToken = credential.accessToken;\r\n\r\n            //         // ...\r\n            //         console.log(\"facebookLoginHandler succuss\", user);\r\n            //     })\r\n            //     .catch((error) => {\r\n            //         // Handle Errors here.\r\n            //         var errorCode = error.code;\r\n            //         var errorMessage = error.message;\r\n            //         // The email of the user's account used.\r\n            //         var email = error.email;\r\n            //         // The firebase.auth.AuthCredential type that was used.\r\n            //         var credential = error.credential;\r\n            //         console.log(\"errorMessage\", errorMessage);\r\n            //         // ...\r\n            //     });\r\n        }\r\n    }\r\n\r\n    const signoutUser = async () => {\r\n        firebase.auth().signOut().then(() => {\r\n            console.log(\"signout succuss\");\r\n            // Sign-out successful.\r\n        }).catch((error) => {\r\n            // An error happened.\r\n            console.log(\"signout fail\");\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Pressable style={styles.root} onPress={() => Keyboard.dismiss()}>\r\n            <Text>התחברות\\הרשמה</Text>\r\n            <TextInput placeholder='דוא\"ל' onChangeText={text => setEmail(text)} keyboardType=\"email-address\" style={styles.inputText} autoCapitalize='none' ></TextInput>\r\n            <TextInput placeholder=\"סיסמא\" onChangeText={text => setPassword(text)} secureTextEntry={true} style={styles.inputText} autoCapitalize='none'></TextInput>\r\n            <Button title='התחברות' onPress={loginHandler} name='loginBtn'></Button>\r\n            <Button title='הרשמה' onPress={signupHandler} name='signupBtn'></Button>\r\n            <Button title='כניסה עם פייסבוק' onPress={facebookLoginHandler} name='facebookLoginBtn'></Button>\r\n            {/* <Text style={{ color: 'red' }}>{error}</Text> */}\r\n        </Pressable>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    root: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    inputText: {\r\n        width: '50%',\r\n        height: 30,\r\n        backgroundColor: 'lightgrey',\r\n        // backgroundColor: \"#e63946\",\r\n\r\n        borderRadius: 20,\r\n        margin: 12,\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nexport default LoginScreen;"]},"metadata":{},"sourceType":"module"}