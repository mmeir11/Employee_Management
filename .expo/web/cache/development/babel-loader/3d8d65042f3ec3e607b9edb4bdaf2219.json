{"ast":null,"code":"import { createServer } from \"miragejs\";\n\nvar db = require(\"../Data/db\");\n\nexport function makeServer() {\n  if (window.server) {\n    server.shutdown();\n  }\n\n  window.server = createServer({\n    routes: function routes() {\n      this.get(\"/api/employees\", function (schema, request) {\n        return db;\n      });\n      this.post(\"/api/employees/create\", function (schema, request) {\n        var newEmployee = JSON.parse(request.requestBody);\n        var employeeExist = db.employees.find(function (employee) {\n          return employee.id == newEmployee.id;\n        });\n\n        if (!employeeExist) {\n          db.employees.push(newEmployee);\n          res.status(200).send(newEmployee);\n        } else {\n          res.status(400).send(\"Employee exist\");\n        }\n      });\n    }\n  });\n  return window.server;\n}","map":{"version":3,"sources":["C:/Users/User/Documents/EmployeeManagement/server/serverMirage.js"],"names":["createServer","db","require","makeServer","window","server","shutdown","routes","get","schema","request","post","newEmployee","JSON","parse","requestBody","employeeExist","employees","find","employee","id","push","res","status","send"],"mappings":"AACA,SAASA,YAAT,QAA6B,UAA7B;;AACA,IAAMC,EAAE,GAAGC,OAAO,cAAlB;;AAGA,OAAO,SAASC,UAAT,GAAsB;AACzB,MAAIC,MAAM,CAACC,MAAX,EAAmB;AACfA,IAAAA,MAAM,CAACC,QAAP;AACH;;AAGDF,EAAAA,MAAM,CAACC,MAAP,GAAgBL,YAAY,CAAC;AAEzBO,IAAAA,MAFyB,oBAEhB;AACL,WAAKC,GAAL,CAAS,gBAAT,EAA2B,UAACC,MAAD,EAASC,OAAT,EAAqB;AAC5C,eAAOT,EAAP;AACH,OAFD;AAIA,WAAKU,IAAL,CAAU,uBAAV,EAAmC,UAACF,MAAD,EAASC,OAAT,EAAqB;AACpD,YAAME,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWJ,OAAO,CAACK,WAAnB,CAApB;AACA,YAAMC,aAAa,GAAGf,EAAE,CAACgB,SAAH,CAAaC,IAAb,CAAkB,UAAAC,QAAQ;AAAA,iBAAIA,QAAQ,CAACC,EAAT,IAAeR,WAAW,CAACQ,EAA/B;AAAA,SAA1B,CAAtB;;AACA,YAAI,CAACJ,aAAL,EAAoB;AAChBf,UAAAA,EAAE,CAACgB,SAAH,CAAaI,IAAb,CAAkBT,WAAlB;AACAU,UAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBZ,WAArB;AACH,SAHD,MAIK;AACDU,UAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,gBAArB;AACH;AAEJ,OAXD;AAaH;AApBwB,GAAD,CAA5B;AAsBA,SAAOpB,MAAM,CAACC,MAAd;AACH","sourcesContent":["\r\nimport { createServer } from \"miragejs\"\r\nconst db = require('../Data/db');\r\n// var defaultDatabase = firebase.database();\r\n\r\nexport function makeServer() {\r\n    if (window.server) {\r\n        server.shutdown()\r\n    }\r\n\r\n    //miragejs\r\n    window.server = createServer({\r\n\r\n        routes() {\r\n            this.get(\"/api/employees\", (schema, request) => {\r\n                return db;\r\n            });\r\n\r\n            this.post(\"/api/employees/create\", (schema, request) => {\r\n                const newEmployee = JSON.parse(request.requestBody);\r\n                const employeeExist = db.employees.find(employee => employee.id == newEmployee.id);\r\n                if (!employeeExist) {\r\n                    db.employees.push(newEmployee);\r\n                    res.status(200).send(newEmployee);\r\n                }\r\n                else { // empolyee exsist\r\n                    res.status(400).send(\"Employee exist\");\r\n                }\r\n                // return schema.users.create(attrs);\r\n            });\r\n\r\n        },\r\n    })\r\n    return window.server;\r\n}"]},"metadata":{},"sourceType":"module"}